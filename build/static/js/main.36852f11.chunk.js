(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var c=t(13),a=t.n(c),o=t(25),u=t(9),r=t(0),s=t(2),i=function(e){var n=e.value,t=e.onChange;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Filter by name: "}),"Name: ",Object(s.jsx)("input",{value:n,onChange:t,placeholder:"John Doe"})]})},l=t(39),h=t.n(l),b=t(87),j=function(e){var n=e.newName,t=e.newNumber,c=e.handleNameSubmit,a=e.handleNameChange,o=e.handleNumberChange;return Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsx)("h2",{children:"Add a new contact:"}),Object(s.jsxs)("div",{children:["Name:"," ",Object(s.jsx)("input",{value:n,onChange:a,placeholder:"John Doe"})]}),Object(s.jsxs)("div",{children:["Number:"," ",Object(s.jsx)("input",{value:t,onChange:o,placeholder:"1234567890"})]}),Object(s.jsx)("div",{children:Object(s.jsx)(b.a,{type:"submit",children:Object(s.jsx)(h.a,{})})})]})},d=t(21),m=t.n(d),f="/api/persons",O={getAll:function(){return m.a.get(f).then((function(e){return e.data}))},create:function(e){return m.a.post(f,e).then((function(e){return e.data}))},update:function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},remove:function(e){return m.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))}},g=t(40),p=t.n(g),v=(t(37),function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})}),x=function(e){var n=e.persons,t=Object(r.useState)(null),c=Object(u.a)(t,2),a=c[0],o=c[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook:"}),Object(s.jsx)(v,{message:a}),Object(s.jsx)("ul",{children:n.map((function(e){return Object(s.jsxs)("li",{children:[e.name,": ",e.number," ",Object(s.jsx)(b.a,{onClick:function(){window.confirm("Delete ".concat(e.name," from the phonebook?"))&&O.remove(e.id).then((function(){o("".concat(e.name," has successfully been removed from the phonebook. Please refesh the page to see deletion.")),setTimeout((function(){return o(null)}),5e3)})).catch((function(n){o("".concat(e.name," has already been removed. Please refresh the page to see deletion.")),setTimeout((function(){return o(null)}),5e3)}))},children:Object(s.jsx)(p.a,{})})]},e.name)}))})]})},w=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"success",children:n})},N=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),l=Object(u.a)(a,2),h=l[0],b=l[1],d=Object(r.useState)(""),m=Object(u.a)(d,2),f=m[0],g=m[1],p=Object(r.useState)(""),N=Object(u.a)(p,2),C=N[0],k=N[1],S=Object(r.useState)(null),y=Object(u.a)(S,2),P=y[0],T=y[1],D=Object(r.useState)(null),J=Object(u.a)(D,2),L=J[0],A=J[1];Object(r.useEffect)((function(){O.getAll().then((function(e){c(e)}))}),[]);var E=function(e){return"("+e.substring(0,3)+") "+e.substring(3,6)+"-"+e.substring(6,11)},B=t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Phonebook"}),Object(s.jsx)(w,{message:P}),Object(s.jsx)(v,{message:L}),Object(s.jsx)(i,{value:C,onChange:function(e){k(e.target.value)}}),Object(s.jsx)(j,{newName:h,newNumber:f,handleNameSubmit:function(e){e.preventDefault();var n={name:h,number:E(f)},a=t.filter((function(e){return 0!=h.length&&h.includes(" ")&&e.name.toLowerCase().includes(h.toLowerCase())}))[0],u=Object(o.a)(Object(o.a)({},a),{},{number:E(f)});if(void 0!==a)window.confirm("".concat(a.name," is already in the phonebook. Replace their current phone number with a new one?"))&&(10==f.length?O.update(a.id,u).then((function(){c(c.map((function(e){return e.id!==a.id?e:u})))}),T("".concat(a.name,"'s phone number has successfully been replaced.")),setTimeout((function(){T(null)}),5e3),g(""),b("")).catch((function(e){console.log(e)})):(A("Phone number must contain ".concat(10-f.length," more digits.")),setTimeout((function(){A(null)}),5e3)));else if(h.includes(" ")&&h.length>0&&10==f.length)O.create(n).then(T("".concat(n.name," has successfully been added to the phonebook.")),setTimeout((function(){T(null)}),5e3)),c(t.concat(n)),b(""),g("");else if(!h.includes(" ")||f.length<10||f.length>10){var r="";h.includes(" ")||(r+="Name must contain a first and last name."),(f.length<10||f.length>10)&&(r+=" Phone number must contain ".concat(10-f.length," more digits.")),A(r),setTimeout((function(){A(null)}),5e3)}},handleNumberChange:function(e){g(e.target.value)},handleNameChange:function(e){b(e.target.value)}}),Object(s.jsx)(x,{persons:B})]})};a.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.36852f11.chunk.js.map