(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{47:function(e,n,t){},49:function(e,n,t){},73:function(e,n,t){},74:function(e,n,t){},75:function(e,n,t){},77:function(e,n,t){"use strict";t.r(n);var c=t(13),a=t.n(c),s=t(25),o=t(9),r=t(0),u=(t(47),t(2)),i=function(e){var n=e.value,t=e.onChange;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"filter by name \ud83d\udcd3"}),Object(u.jsxs)("div",{className:"filter-container",children:[Object(u.jsx)("label",{children:"name: "}),Object(u.jsx)("input",{value:n,onChange:t,placeholder:"John Doe"})]})]})},l=t(38),h=t.n(l),b=t(91),j=(t(49),function(e){var n=e.newName,t=e.newNumber,c=e.handleNameSubmit,a=e.handleNameChange,s=e.handleNumberChange;return Object(u.jsx)("div",{className:"personform-container",children:Object(u.jsxs)("form",{onSubmit:c,children:[Object(u.jsx)("h2",{children:"add a new contact \ud83d\udc64"}),Object(u.jsxs)("div",{className:"form",children:[Object(u.jsxs)("div",{className:"labels",children:[Object(u.jsx)("label",{children:"name:"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"number:"})]}),Object(u.jsxs)("div",{className:"inputs",children:[Object(u.jsx)("input",{value:n,onChange:a,placeholder:"John Doe"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:t,onChange:s,placeholder:"1234567890"})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(b.a,{type:"submit",children:Object(u.jsx)(h.a,{})})})]})})}),d=t(21),m=t.n(d),f="/api/persons",O={getAll:function(){return m.a.get(f).then((function(e){return e.data}))},create:function(e){return m.a.post(f,e).then((function(e){return e.data}))},update:function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},remove:function(e){return m.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))}},g=t(39),p=t.n(g),x=(t(73),t(74),function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{className:"error",children:n})}),v=function(e){var n=e.persons,t=Object(r.useState)(null),c=Object(o.a)(t,2),a=c[0],s=c[1];return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h2",{children:"phonebook \ud83d\udcde\ud83d\udcd6"}),Object(u.jsx)(x,{message:a}),Object(u.jsx)("ul",{children:n.map((function(e){return Object(u.jsxs)("li",{children:[e.name,": ",e.number," ",Object(u.jsx)(b.a,{onClick:function(){window.confirm("Delete ".concat(e.name," from the phonebook?"))&&O.remove(e.id).then((function(){s("".concat(e.name," has successfully been removed from the phonebook. Please refesh the page to see deletion.")),setTimeout((function(){return s(null)}),5e3)})).catch((function(n){s("".concat(e.name," has already been removed. Please refresh the page to see deletion.")),setTimeout((function(){return s(null)}),5e3)}))},children:Object(u.jsx)(p.a,{})})]},e.name)}))})]})},N=(t(75),function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{className:"success",children:n})}),w=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),l=Object(o.a)(a,2),h=l[0],b=l[1],d=Object(r.useState)(""),m=Object(o.a)(d,2),f=m[0],g=m[1],p=Object(r.useState)(""),w=Object(o.a)(p,2),C=w[0],k=w[1],S=Object(r.useState)(null),y=Object(o.a)(S,2),T=y[0],D=y[1],J=Object(r.useState)(null),L=Object(o.a)(J,2),P=L[0],A=L[1];Object(r.useEffect)((function(){O.getAll().then((function(e){c(e)}))}),[]);var E=function(e){return"("+e.substring(0,3)+") "+e.substring(3,6)+"-"+e.substring(6,11)},B=t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));return Object(u.jsxs)("div",{className:"big-container",children:[Object(u.jsx)("h1",{className:"header",children:"phonebook"}),Object(u.jsxs)("div",{className:"messages",children:[Object(u.jsx)(N,{className:"success",message:T}),Object(u.jsx)(x,{className:"error",message:P})]}),Object(u.jsx)(i,{value:C,onChange:function(e){k(e.target.value)}}),Object(u.jsx)(j,{newName:h,newNumber:f,handleNameSubmit:function(e){e.preventDefault();var n={name:h,number:E(f)},a=t.filter((function(e){return 0!==h.length&&h.includes(" ")&&e.name.toLowerCase().includes(h.toLowerCase())}))[0],o=Object(s.a)(Object(s.a)({},a),{},{number:E(f)});if(void 0!==a)window.confirm("".concat(a.name," is already in the phonebook. Replace their current phone number with a new one?"))&&(10===f.length?O.update(a.id,o).then((function(){c(c.map((function(e){return e.id!==a.id?e:o})))}),D("".concat(a.name,"'s phone number has successfully been replaced.")),setTimeout((function(){D(null)}),5e3),g(""),b("")).catch((function(e){console.log(e)})):(A("Phone number must contain ".concat(10-f.length," more digits.")),setTimeout((function(){A(null)}),5e3)));else if(h.includes(" ")&&h.length>0&&10===f.length)O.create(n).then(D("".concat(n.name," has successfully been added to the phonebook.")),setTimeout((function(){D(null)}),5e3)),c(t.concat(n)),b(""),g("");else if(!h.includes(" ")||f.length<10||f.length>10){var r="";h.includes(" ")||(r+="Name must contain a first and last name."),(f.length<10||f.length>10)&&(r+=" Phone number must contain ".concat(10-f.length," more digits.")),A(r),setTimeout((function(){A(null)}),5e3)}},handleNumberChange:function(e){g(e.target.value)},handleNameChange:function(e){b(e.target.value)}}),Object(u.jsx)(v,{persons:B})]})};a.a.render(Object(u.jsx)(w,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.703acafc.chunk.js.map