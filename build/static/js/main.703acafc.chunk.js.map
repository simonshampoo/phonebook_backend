{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Error.js","components/Persons.js","App.js","index.js"],"names":["Filter","value","onChange","className","placeholder","PersonForm","newName","newNumber","handleNameSubmit","handleNameChange","handleNumberChange","onSubmit","IconButton","type","baseUrl","personService","getAll","axios","get","then","response","data","create","person","post","update","id","put","remove","delete","Error","message","Persons","persons","useState","errorMessage","setErrorMessage","map","name","number","onClick","window","confirm","setTimeout","catch","error","Success","App","setPersons","setNewName","setNewNumber","filter","setFilter","successMessage","setSuccessMessage","useEffect","peopleList","formatPhoneNumber","phoneNumber","substring","filteredPersons","toLowerCase","includes","event","target","preventDefault","personObject","existingPerson","length","updatedExistingPerson","undefined","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"iRAaeA,EAZA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACvB,OACE,gCACE,6DACA,sBAAKC,UAAU,mBAAf,UACI,2CACA,uBAAOF,MAAOA,EAAOC,SAAUA,EAAUE,YAAY,oB,yBC0ChDC,G,MA5CI,SAAC,GAMb,IALLC,EAKI,EALJA,QACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,mBAEA,OACE,qBAAKP,UAAU,uBAAf,SACE,uBAAMQ,SAAUH,EAAhB,UACE,gEAEA,sBAAKL,UAAY,OAAjB,UACE,sBAAKA,UAAU,SAAf,UACE,0CACA,uBACA,+CAGF,sBAAKA,UAAU,SAAf,UACE,uBACEF,MAAOK,EACPJ,SAAUO,EACVL,YAAY,aAEd,uBAEA,uBACEH,MAAOM,EACPL,SAAUQ,EACVN,YAAY,qBAIlB,8BACE,cAACQ,EAAA,EAAD,CAAYC,KAAK,SAAjB,SACE,cAAC,IAAD,e,iBCxCNC,EAAU,eAoBDC,EAPO,CACpBC,OAZa,kBAAMC,IAAMC,IAAIJ,GAASK,MAAK,SAACC,GAAD,OAAcA,EAASC,SAalEC,OAXa,SAACC,GAAD,OACbN,IAAMO,KAAKV,EAASS,GAAQJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAWxDI,OATa,SAACC,EAAIH,GAAL,OACbN,IAAMU,IAAN,UAAab,EAAb,YAAwBY,GAAMH,GAAQJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SASlEO,OAPa,SAACF,GAAD,OACbT,IAAMY,OAAN,UAAgBf,EAAhB,YAA2BY,IAAMP,MAAK,SAACC,GAAD,OAAcA,EAASC,U,iBCFhDS,G,YAPD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,OAAgB,OAAZA,EACK,KAGF,qBAAK5B,UAAU,QAAf,SAAwB4B,MCuClBC,EAxCC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,EAAwCC,mBAAS,MAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KAEA,OACE,sBAAKjC,UAAY,YAAjB,UACE,oEACA,cAAC,EAAD,CAAO4B,QAASI,IAChB,6BACGF,EAAQI,KAAI,SAACd,GAAD,OACX,+BACGA,EAAOe,KADV,KACkBf,EAAOgB,OAAQ,IAC/B,cAAC3B,EAAA,EAAD,CACE4B,QAAS,WACHC,OAAOC,QAAP,iBAAyBnB,EAAOe,KAAhC,0BAEFvB,EACGa,OAAOL,EAAOG,IACdP,MAAK,WACJiB,EAAgB,GAAD,OACVb,EAAOe,KADG,+FAGfK,YAAW,kBAAMP,EAAgB,QAAO,QAEzCQ,OAAM,SAACC,GACNT,EAAgB,GAAD,OACVb,EAAOe,KADG,wEAGfK,YAAW,kBAAMP,EAAgB,QAAO,SAhBlD,SAoBE,cAAC,IAAD,QAtBKb,EAAOe,eCRpBQ,G,MAAU,SAAC,GAAiB,IAAff,EAAc,EAAdA,QACjB,OAAgB,OAAZA,EACK,KAGF,qBAAK5B,UAAU,UAAf,SAA0B4B,MAkKpBgB,EA7JH,WACV,MAA8Bb,mBAAS,IAAvC,mBAAOD,EAAP,KAAgBe,EAAhB,KACA,EAA8Bd,mBAAS,IAAvC,mBAAO5B,EAAP,KAAgB2C,EAAhB,KACA,EAAkCf,mBAAS,IAA3C,mBAAO3B,EAAP,KAAkB2C,EAAlB,KACA,EAA4BhB,mBAAS,IAArC,mBAAOiB,EAAP,KAAeC,EAAf,KACA,EAA4ClB,mBAAS,MAArD,mBAAOmB,EAAP,KAAuBC,EAAvB,KACA,EAAwCpB,mBAAS,MAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KAEAmB,qBAAU,WACRxC,EAAcC,SAASG,MAAK,SAACqC,GAC3BR,EAAWQ,QAEZ,IAEH,IAYMC,EAAoB,SAACC,GACzB,MACE,IACAA,EAAYC,UAAU,EAAG,GACzB,KACAD,EAAYC,UAAU,EAAG,GACzB,IACAD,EAAYC,UAAU,EAAG,KAoGvBC,EAAkB3B,EAAQkB,QAAO,SAAC5B,GAAD,OACrCA,EAAOe,KAAKuB,cAAcC,SAASX,EAAOU,kBAG5C,OACE,sBAAK1D,UAAY,gBAAjB,UACE,oBAAIA,UAAY,SAAhB,uBACA,sBAAKA,UAAY,WAAjB,UACE,cAAC,EAAD,CAASA,UAAU,UAAU4B,QAASsB,IACtC,cAAC,EAAD,CAAOlD,UAAU,QAAQ4B,QAASI,OAEpC,cAAC,EAAD,CAAQlC,MAAOkD,EAAQjD,SA1HA,SAAC6D,GAC1BX,EAAUW,EAAMC,OAAO/D,UA0HrB,cAAC,EAAD,CACEK,QAASA,EACTC,UAAWA,EACXC,iBA/GmB,SAACuD,GACxBA,EAAME,iBACN,IAAMC,EAAe,CACnB5B,KAAMhC,EACNiC,OAAQkB,EAAkBlD,IAStB4D,EANoBlC,EAAQkB,QAChC,SAAC5B,GAAD,OACqB,IAAnBjB,EAAQ8D,QACR9D,EAAQwD,SAAS,MACjBvC,EAAOe,KAAKuB,cAAcC,SAASxD,EAAQuD,kBAEN,GAEnCQ,EAAqB,2BACtBF,GADsB,IAEzB5B,OAAQkB,EAAkBlD,KAE5B,QAAuB+D,IAAnBH,EAEA1B,OAAOC,QAAP,UACKyB,EAAe7B,KADpB,uFAIyB,KAArB/B,EAAU6D,OACZrD,EACGU,OAAO0C,EAAezC,GAAI2C,GAC1BlD,MACC,WACE6B,EACEA,EAAWX,KAAI,SAACd,GAAD,OACbA,EAAOG,KAAOyC,EAAezC,GACzBH,EACA8C,QAIVf,EAAkB,GAAD,OACZa,EAAe7B,KADH,oDAGjBK,YAAW,WACTW,EAAkB,QACjB,KACHJ,EAAa,IACbD,EAAW,KAEZL,OAAM,SAACC,GACN0B,QAAQC,IAAI3B,OAGhBT,EAAgB,6BAAD,OACgB,GAAK7B,EAAU6D,OAD/B,kBAGfzB,YAAW,WACTP,EAAgB,QACf,YAGF,GACL9B,EAAQwD,SAAS,MACjBxD,EAAQ8D,OAAS,GACI,KAArB7D,EAAU6D,OAEVrD,EAAcO,OAAO4C,GAAc/C,KACjCmC,EAAkB,GAAD,OACZY,EAAa5B,KADD,mDAGjBK,YAAW,WACTW,EAAkB,QACjB,MAELN,EAAWf,EAAQwC,OAAOP,IAC1BjB,EAAW,IACXC,EAAa,SACR,IACJ5C,EAAQwD,SAAS,MAClBvD,EAAU6D,OAAS,IACnB7D,EAAU6D,OAAS,GACnB,CACA,IAAIjC,EAAe,GACd7B,EAAQwD,SAAS,OACpB3B,GAAgB,6CAEd5B,EAAU6D,OAAS,IAAM7D,EAAU6D,OAAS,MAC9CjC,GAAY,qCACV,GAAK5B,EAAU6D,OADL,kBAIdhC,EAAgBD,GAChBQ,YAAW,WACTP,EAAgB,QACf,OAoBD1B,mBAnIqB,SAACqD,GAC1Bb,EAAaa,EAAMC,OAAO/D,QAmItBQ,iBAxImB,SAACsD,GACxBd,EAAWc,EAAMC,OAAO/D,UAyItB,cAAC,EAAD,CAASgC,QAAS2B,QCvKxBc,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.703acafc.chunk.js","sourcesContent":["import \"./Filter.css\";\nconst Filter = ({ value, onChange }) => {\n  return (\n    <div>\n      <h2>filter by name 📓</h2>\n      <div className=\"filter-container\">\n          <label>name: </label>\n          <input value={value} onChange={onChange} placeholder=\"John Doe\" />\n      </div>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport \"./PersonForm.css\";\n\nconst PersonForm = ({\n  newName,\n  newNumber,\n  handleNameSubmit,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <div className=\"personform-container\">\n      <form onSubmit={handleNameSubmit}>\n        <h2>add a new contact 👤</h2>\n\n        <div className = \"form\">\n          <div className=\"labels\">\n            <label>name:</label>\n            <br/>\n            <label>number:</label>\n          </div>\n\n          <div className=\"inputs\">\n            <input\n              value={newName}\n              onChange={handleNameChange}\n              placeholder=\"John Doe\"\n            />\n            <br/>\n\n            <input\n              value={newNumber}\n              onChange={handleNumberChange}\n              placeholder=\"1234567890\"\n            />\n          </div>\n        </div>\n        <div>\n          <IconButton type=\"submit\">\n            <AddCircleIcon />\n          </IconButton>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => axios.get(baseUrl).then((response) => response.data);\n\nconst create = (person) =>\n  axios.post(baseUrl, person).then((response) => response.data);\n\nconst update = (id, person) =>\n  axios.put(`${baseUrl}/${id}`, person).then((response) => response.data);\n\nconst remove = (id) =>\n  axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n\nconst personService = {\n  getAll,\n  create,\n  update,\n  remove,\n};\n\nexport default personService;\n","import React from 'react';\nimport \"./Error.css\"\n\nconst Error = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\nexport default Error; ","import React, { useState } from \"react\";\nimport personService from \"../services/persons\";\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport \"./Persons.css\";\nimport Error from \"./Error\";\n\nconst Persons = ({ persons }) => {\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  return (\n    <div className = \"container\">\n      <h2>phonebook 📞📖</h2>\n      <Error message={errorMessage} />\n      <ul>\n        {persons.map((person) => (\n          <li key={person.name}>\n            {person.name}: {person.number}{\" \"}\n            <IconButton\n              onClick={() => {\n                if (window.confirm(`Delete ${person.name} from the phonebook?`))\n                  //TODO, update state somehow\n                  personService\n                    .remove(person.id)\n                    .then(() => {\n                      setErrorMessage(\n                        `${person.name} has successfully been removed from the phonebook. Please refesh the page to see deletion.`\n                      );\n                      setTimeout(() => setErrorMessage(null), 5000);\n                    })\n                    .catch((error) => {\n                      setErrorMessage(\n                        `${person.name} has already been removed. Please refresh the page to see deletion.`\n                      );\n                      setTimeout(() => setErrorMessage(null), 5000);\n                    });\n              }}\n            >\n              <DeleteIcon/>\n            </IconButton>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Error from \"./components/Error\";\nimport \"./App.css\";\n\nconst Success = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"success\">{message}</div>;\n};\n\n//@TODO update state on http delete in Persons.js\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((peopleList) => {\n      setPersons(peopleList);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const formatPhoneNumber = (phoneNumber) => {\n    return (\n      \"(\" +\n      phoneNumber.substring(0, 3) +\n      \") \" +\n      phoneNumber.substring(3, 6) +\n      \"-\" +\n      phoneNumber.substring(6, 11)\n    );\n  };\n\n  const handleNameSubmit = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: formatPhoneNumber(newNumber),\n    };\n\n    const phoneBookContains = persons.filter(\n      (person) =>\n        newName.length !== 0 &&\n        newName.includes(\" \") &&\n        person.name.toLowerCase().includes(newName.toLowerCase())\n    );\n    const existingPerson = phoneBookContains[0];\n\n    const updatedExistingPerson = {\n      ...existingPerson,\n      number: formatPhoneNumber(newNumber),\n    };\n    if (existingPerson !== undefined) {\n      if (\n        window.confirm(\n          `${existingPerson.name} is already in the phonebook. Replace their current phone number with a new one?`\n        )\n      ) {\n        if (newNumber.length === 10) {\n          personService\n            .update(existingPerson.id, updatedExistingPerson)\n            .then(\n              () => {\n                setPersons(\n                  setPersons.map((person) =>\n                    person.id !== existingPerson.id //create new array mapping non-matching ID's to original persons, if id matches, then map to our updatedExistingPerson\n                      ? person\n                      : updatedExistingPerson\n                  )\n                );\n              }, //@TODO, trigger rerender of people list on replacement\n              setSuccessMessage(\n                `${existingPerson.name}'s phone number has successfully been replaced.`\n              ),\n              setTimeout(() => {\n                setSuccessMessage(null);\n              }, 5000),\n              setNewNumber(\"\"),\n              setNewName(\"\")\n            )\n            .catch((error) => {\n              console.log(error);\n            });\n        } else {\n          setErrorMessage(\n            `Phone number must contain ${10 - newNumber.length} more digits.`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        }\n      }\n    } else if (\n      newName.includes(\" \") &&\n      newName.length > 0 &&\n      newNumber.length === 10\n    ) {\n      personService.create(personObject).then(\n        setSuccessMessage(\n          `${personObject.name} has successfully been added to the phonebook.`\n        ),\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 5000)\n      );\n      setPersons(persons.concat(personObject));\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else if (\n      !newName.includes(\" \") ||\n      newNumber.length < 10 ||\n      newNumber.length > 10\n    ) {\n      let errorMessage = \"\";\n      if (!newName.includes(\" \")) {\n        errorMessage += \"Name must contain a first and last name.\";\n      }\n      if (newNumber.length < 10 || newNumber.length > 10) {\n        errorMessage += ` Phone number must contain ${\n          10 - newNumber.length\n        } more digits.`;\n      }\n      setErrorMessage(errorMessage);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div className = \"big-container\">\n      <h1 className = \"header\">phonebook</h1>\n      <div className = \"messages\">\n        <Success className=\"success\" message={successMessage} />\n        <Error className=\"error\" message={errorMessage} />\n      </div>\n      <Filter value={filter} onChange={handleFilterChange} />\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameSubmit={handleNameSubmit}\n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n      />\n      <Persons persons={filteredPersons} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}